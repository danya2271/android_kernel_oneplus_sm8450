# SPDX-License-Identifier: GPL-2.0-only
# Inlining optimization
KBUILD_CFLAGS  += -mllvm -inline-instr-cost=1
KBUILD_CFLAGS  += -mllvm -hot-callsite-rel-freq=400

KCOV_INSTRUMENT := n
KCSAN_SANITIZE := n

obj-$(CONFIG_SCHED_WALT) += sched-walt.o
sched-walt-$(CONFIG_SCHED_WALT) := walt.o boost.o sched_avg.o walt_pause.o core_ctl.o trace.o sysctl.o cpufreq_walt.o fixup.o walt_lb.o walt_rt.o walt_cfs.o walt_tp.o
sched-walt-$(CONFIG_WALT_INPUT_BOOST) += input-boost.o

obj-$(CONFIG_SCHED_WALT_DEBUG) += sched-walt-debug.o
sched-walt-debug-$(CONFIG_SCHED_WALT_DEBUG) := walt_debug.o preemptirq_long.o
